{"version":3,"sources":["../../src/services/BartHelperService.ts","../../node_modules/@angular/core/src/linker lazy","../../src/pages/tabs/tabs.ts","../../src/pages/myroutes/myroutes.ts","../../src/pages/addroute/addroute.ts","../../src/pages/quicklookup/quicklookup.ts","../../src/pages/map/map.ts","../../src/pages/info/info.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/models/MyRouteInfo.ts","../../src/services/ScheduledDepartureDetailsService.ts","../../src/services/EstTimeDepartureService.ts","../../src/services/StationsLookupService.ts","../../src/services/AdvisoryService.ts","../../src/components/TimerComponent.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Injectable} from \"@angular/core\";\nimport {Platform} from \"ionic-angular\";\nimport {NativeStorage} from \"ionic-native\";\n\n@Injectable()\nexport class BartHelperService {\n  platform:any;\n  favRoutes:any[];\n\n  constructor(platform:Platform) {\n    this.platform = platform;\n  }\n\n  loadFavoriteRoutes():Promise<boolean> {\n    //NativeStorage.clear();\n    return new Promise<boolean>((resolve, reject) => {\n      console.log(\"exec custom promise\");\n      NativeStorage.getItem(\"favoriteRoutes\").then(\n        favoriteRoutes => {\n          this.favRoutes = JSON.parse(favoriteRoutes);\n          resolve(true);\n        }).catch(error => {\n        if (error.code == 2) {\n          //favRoutes not found, set it to empty\n          this.favRoutes = [];\n          resolve(true);\n        } else {\n          reject(true);\n          console.log(\"native storage exception \", JSON.stringify(error));\n        }\n      });\n    });\n  }\n\n  getFavoriteRoutes():any[] {\n    return this.favRoutes;\n  }\n\n  addToFavoriteRoutes(favoriteRoutes):void {\n    this.favRoutes = favoriteRoutes;\n    console.log(JSON.stringify(favoriteRoutes));\n    NativeStorage.setItem('favoriteRoutes', JSON.stringify(favoriteRoutes))\n      .then(\n        () => console.log('Stored item!'),\n        error => console.error('Error storing item', error)\n      );\n    return;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/BartHelperService.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 253;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/src/linker lazy\n// module id = 253\n// module chunks = 0","import {MyRoutesPage} from \"../myroutes/myroutes\";\nimport {AddRoutePage} from \"../addroute/addroute\";\nimport {QuickLookupPage} from \"../quicklookup/quicklookup\";\nimport {MapPage} from \"../map/map\";\nimport {InfoPage} from \"../info/info\";\nimport {Component, ViewChild} from \"@angular/core\";\nimport {BartHelperService} from \"../../services/BartHelperService\";\nimport {Tabs} from \"ionic-angular\";\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n  myroutes:any = MyRoutesPage;\n  addroute:any = AddRoutePage;\n  quicklookup:any = QuickLookupPage;\n  map:any = MapPage;\n  info:any = InfoPage;\n\n  @ViewChild('bartonicTabs')\n  tabRef:Tabs;\n  favRoutes:any;\n  bartHelperService:BartHelperService;\n\n  constructor(bartHelperService:BartHelperService) {\n    this.bartHelperService = bartHelperService;\n    this.favRoutes = this.bartHelperService.getFavoriteRoutes();\n  }\n\n  ionViewDidEnter() {\n    if (this.favRoutes.length > 0) {\n      this.tabRef.select(0)\n    } else {\n      this.tabRef.select(1);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from \"@angular/core\";\nimport { MyRouteInfo } from \"../../models/MyRouteInfo\";\nimport { ScheduledDepartureDetailsService } from \"../../services/ScheduledDepartureDetailsService\";\nimport { EstTimeDepartureService } from \"../../services/EstTimeDepartureService\";\nimport { BartHelperService } from \"../../services/BartHelperService\";\nimport { Observable } from \"rxjs/Rx\";\nimport { Platform } from \"ionic-angular\";\n\n@Component({\n  selector: 'myroutes',\n  templateUrl: 'myroutes.html',\n  providers: [EstTimeDepartureService, ScheduledDepartureDetailsService]\n})\nexport class MyRoutesPage {\n  favRoutes: string[];\n  platform: any;\n  scheduledDepartureDetailsService: ScheduledDepartureDetailsService;\n  estTimeDepartureService: EstTimeDepartureService;\n  bartHelperService: BartHelperService;\n  myFavRoutes: any[] = [];\n  originNames: string[] = [];\n  destinationNames: string[] = [];\n\n  constructor(platform: Platform, bartHelperService: BartHelperService, scheduledDepartureDetailsService: ScheduledDepartureDetailsService, estTimeDepartureService: EstTimeDepartureService) {\n    this.platform = platform;\n    this.scheduledDepartureDetailsService = scheduledDepartureDetailsService;\n    this.estTimeDepartureService = estTimeDepartureService;\n    this.bartHelperService = bartHelperService;\n    this.favRoutes = bartHelperService.getFavoriteRoutes();\n  }\n\n  ionViewWillEnter() {\n    this.myFavRoutes = [];\n    this.getMyFavoriteRoutes(this.favRoutes).subscribe((favRoute) => {\n      var myFavRoute = this.myFavRoutes.filter(myFavRoute => myFavRoute.id === favRoute.id)[0];\n      if (myFavRoute) {\n        var idx = this.myFavRoutes.indexOf(myFavRoute);\n        this.myFavRoutes[idx] = favRoute;\n      } else {\n        this.myFavRoutes.push(favRoute);\n      }\n      this.myFavRoutes.sort((a: any, b: any) => {\n        return (a.id < b.id) ? -1 : (a.id > b.id) ? 1 : 0;\n      });\n    }, (err) => {\n      console.error(\"error occurred calling favorite routes \", err);\n    }, () => {\n      console.log(\"my routes : \", this.myFavRoutes);\n    });\n  }\n\n  getMyFavoriteRoutes(favoriteRoutes) {\n    return this.getScheduleDepuartureDetailsSource(favoriteRoutes).flatMap((scheduleDepartureDetailsSource) => {\n      return Observable.range(0, scheduleDepartureDetailsSource.length).flatMap((key) => {\n        var trainHeadStations = [];\n        return scheduleDepartureDetailsSource[key].map((scheduledDepartureDetails) => {\n          trainHeadStations = this.scheduledDepartureDetailsService.getTrainHeadStations(scheduledDepartureDetails);\n          //$log.debug(\"train head stations are : \" + angular.toJson(trainHeadStations));\n          var myRouteInfo = new MyRouteInfo();\n          myRouteInfo.index = favoriteRoutes[key].index;\n          myRouteInfo.id = key;\n          myRouteInfo.routeFare = scheduledDepartureDetails.root.schedule.request.trip[0]._fare;\n          myRouteInfo.destTimeMin = scheduledDepartureDetails.root.schedule.request.trip[0]._destTimeMin;\n          myRouteInfo.hasLink = false;\n          if (scheduledDepartureDetails.root.schedule.request.trip[0].leg === Array) {\n            myRouteInfo.hasLink = true;\n            myRouteInfo.trainHeadStation = scheduledDepartureDetails.root.schedule.request.trip[0].leg[0]._trainHeadStation;\n          } else {\n            myRouteInfo.trainHeadStation = scheduledDepartureDetails.root.schedule.request.trip[0].leg._trainHeadStation;\n          }\n          return myRouteInfo;\n        }).flatMap((myRouteInfo) => {\n          return this.setEstimatedDepartureDetails(myRouteInfo, favoriteRoutes[myRouteInfo.id].originAbbr, trainHeadStations);\n        });\n      });\n    });\n  }\n\n  getScheduleDepuartureDetailsSource(favoriteRoutes) {\n    var scheduleDepartureDetailsObservables = [];\n    for (var i = 0; i < favoriteRoutes.length; i++) {\n      var originAbbr = favoriteRoutes[i].originAbbr;\n      var destinationAbbr = favoriteRoutes[i].destinationAbbr;\n      this.originNames.push(favoriteRoutes[i].originName);\n      this.destinationNames.push(favoriteRoutes[i].destinationName);\n      //$log.debug(\"pushing in \" + originAbbr + \" destination is : \" + destinationAbbr);\n      scheduleDepartureDetailsObservables.push(this.scheduledDepartureDetailsService.getScheduledDepartureDetailsObservable(originAbbr, destinationAbbr, 'depart', 'now', 'now'));\n    }\n    return Observable.of(scheduleDepartureDetailsObservables);\n  }\n\n  setEstimatedDepartureDetails(myRouteInfo, originAbbr, trainHeadStations) {\n    return this.estTimeDepartureService.getEstTimeDeparture(originAbbr).map((response) => {\n      var estTimeDeparture = response;\n      myRouteInfo.originName = this.originNames[myRouteInfo.id];\n      myRouteInfo.destinationName = this.destinationNames[myRouteInfo.id];\n      var estDepartureDetails = this.estTimeDepartureService.getEstimatedDeparturesForHeadStations(estTimeDeparture, trainHeadStations);\n\n      //$log.debug(\"before sort --> \" + angular.toJson(estDepartureDetails));\n      estDepartureDetails = estDepartureDetails.sort(this.estTimeDepartureService.compareDepartureTimes);\n      //$log.debug(\"after sort --> \" + angular.toJson(estDepartureDetails));\n      if (estDepartureDetails != null) {\n        //should be a way to filter and return first object?\n        if (estDepartureDetails instanceof Array) {\n          estDepartureDetails = estDepartureDetails[0];\n        }\n        if (estDepartureDetails !== null) {\n          if (estDepartureDetails[\"estimate\"].length > 1) {\n            myRouteInfo.estDeparture = isNaN(estDepartureDetails[\"estimate\"][0].minutes) ? 'LEAVING_NOW' : parseInt(estDepartureDetails[\"estimate\"][0].minutes) * 60;\n            myRouteInfo.carLength = estDepartureDetails[\"estimate\"][0].length;\n          } else {\n            myRouteInfo.estDeparture = isNaN(estDepartureDetails[\"estimate\"].minutes) ? 'LEAVING_NOW' : parseInt(estDepartureDetails[\"estimate\"].minutes) * 60;\n            myRouteInfo.carLength = estDepartureDetails[\"estimate\"].length;\n          }\n        } else {\n          myRouteInfo.estDeparture = 'No Service';\n        }\n      }\n      return myRouteInfo;\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/myroutes/myroutes.ts","import {Component} from \"@angular/core\";\nimport {BartHelperService} from \"../../services/BartHelperService\";\nimport {StationsLookupService} from \"../../services/StationsLookupService\";\nimport {NavController, Tabs} from \"ionic-angular\";\n\n@Component({\n  selector: 'addroute',\n  templateUrl: 'addroute.html',\n  providers: [StationsLookupService]\n\n})\nexport class AddRoutePage {\n  stations:any[] = [];\n  bartHelperService:BartHelperService;\n  origin:any;\n  destination:any;\n  reverseDirection:boolean = false;\n  cancelAddRoute:any;\n\n  nav: NavController\n\n  constructor(nav:NavController, bartHelperService:BartHelperService, stationsLookupService:StationsLookupService) {\n    this.nav = nav;\n    this.bartHelperService = bartHelperService;\n    stationsLookupService.getStations().subscribe((response) => {\n      this.stations = response.root.stations.station;\n    });\n  }\n\n  addRouteToFavorites() {\n    var favoriteRoutes = this.bartHelperService.getFavoriteRoutes();\n    console.log(\"favoriteRoutes are \", favoriteRoutes);\n    var index = favoriteRoutes.length;\n    favoriteRoutes.push({\n      index: ++index,\n      originAbbr: this.origin.abbr,\n      originName: this.origin.name,\n      destinationAbbr: this.destination.abbr,\n      destinationName: this.destination.name\n    });\n    if (this.reverseDirection) {\n      favoriteRoutes.push({\n        index: ++index,\n        originAbbr: this.destination.abbr,\n        originName: this.destination.name,\n        destinationAbbr: this.origin.abbr,\n        destinationName: this.origin.name\n      });\n    }\n    this.bartHelperService.addToFavoriteRoutes(favoriteRoutes);\n    var t: Tabs = this.nav.parent;\n    t.select(0);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addroute/addroute.ts","import {Component} from \"@angular/core\";\n\n@Component({\n  templateUrl: 'quicklookup.html'\n})\nexport class QuickLookupPage {\n  constructor() {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/quicklookup/quicklookup.ts","import {Component} from \"@angular/core\";\n\n@Component({\n  selector: 'map',\n  templateUrl: 'map.html'\n})\nexport class MapPage {\n  constructor() {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map/map.ts","import {Component} from \"@angular/core\";\nimport {AdvisoryService} from \"../../services/AdvisoryService\";\n\n@Component({\n  selector: 'info',\n  templateUrl: 'info.html',\n  providers: [AdvisoryService]\n\n})\nexport class InfoPage {\n\n  advisoryService:AdvisoryService;\n  advisoryInfo:any;\n\n  constructor(advisoryService:AdvisoryService) {\n    this.advisoryService = advisoryService;\n  }\n\n  ngOnInit() {\n    this.advisoryService.advisoryResponse().subscribe(\n      advisoryInfo => this.advisoryInfo = advisoryInfo.root.bsa.description\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/info/info.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule } from '@angular/core';\nimport { IonicApp, IonicModule } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { AddRoutePage } from '../pages/addroute/addroute';\nimport { InfoPage } from '../pages/info/info';\nimport { MapPage } from '../pages/map/map';\nimport { MyRoutesPage } from '../pages/myroutes/myroutes';\nimport { QuickLookupPage } from '../pages/quicklookup/quicklookup'\nimport { TabsPage } from '../pages/tabs/tabs'\nimport { TimerComponent } from \"../components/TimerComponent\";\n\n@NgModule({\n  declarations: [\n    MyApp,\n    AddRoutePage,\n    InfoPage,\n    MapPage,\n    MyRoutesPage,\n    QuickLookupPage,\n    TabsPage,\n    TimerComponent,\n  ],\n  imports: [\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    AddRoutePage,\n    InfoPage,\n    MapPage,\n    MyRoutesPage,\n    QuickLookupPage,\n    TabsPage,\n    TimerComponent\n  ],\n  providers: []\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Component} from \"@angular/core\";\nimport {Platform} from \"ionic-angular\";\nimport {StatusBar, Splashscreen} from \"ionic-native\";\nimport {TabsPage} from \"../pages/tabs/tabs\";\nimport {BartHelperService} from \"../services/BartHelperService\";\n\n@Component({\n  template: `<ion-nav [root]=\"rootPage\"></ion-nav>`,\n  providers: [BartHelperService]\n})\nexport class MyApp {\n\n  rootPage:any;\n  bartHelperService:any;\n\n  constructor(platform:Platform, bartHelperService:BartHelperService) {\n    this.bartHelperService = bartHelperService;\n    platform.ready().then(() => {\n      this.bartHelperService.loadFavoriteRoutes().then(() => {\n        console.log(\"loaded fav routes\");\n        // Okay, so the platform is ready and our plugins are available.\n        // Here you can do any higher level native things you might need.\n        StatusBar.styleDefault();\n        Splashscreen.hide();\n\n        this.rootPage = TabsPage;\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","\nexport class MyRouteInfo {\n  index: number;\n  id: number;\n  originName: string;\n  destinationName: string;\n  trainHeadStation: string;\n  hasLink: boolean;\n  routeFare: any;\n  destTimeMin: string;\n  estDeparture: string;\n  carLength: number;\n  \n  constructor() {\n  }\n\n  \n}  \n\n\n\n// WEBPACK FOOTER //\n// ./src/models/MyRouteInfo.ts","import {Http, URLSearchParams} from \"@angular/http\";\nimport {Injectable} from \"@angular/core\";\nimport {Observable} from \"rxjs/Observable\";\nimport \"rxjs/Rx\";\n\ndeclare var X2JS:any;\n\n@Injectable()\nexport class ScheduledDepartureDetailsService {\n  http:Http;\n\n  constructor(http:Http) {\n    this.http = http;\n  }\n\n  getScheduledDepartureDetailsObservable(origin, destination, cmd, date, time):Observable<any> {\n    var b = (cmd === 'depart') ? '0' : '3';\n    var a = (cmd === 'depart') ? '3' : '0';\n    let params:URLSearchParams = new URLSearchParams();\n    params.set('cmd', cmd);\n    params.set('a', a);\n    params.set('b', b);\n    params.set('orig', origin);\n    params.set('dest', destination);\n    params.set('time', time);\n    params.set('key', \"ZMVD-UB67-IYVQ-DT35\")\n    return Observable.interval(10000).startWith(0)\n      .switchMap(() => this.http.get('http://api.bart.gov/api/sched.aspx', {\n        search: params\n      }).map(res => {\n        var x2js = new X2JS();\n        return x2js.xml_str2json(res.text());\n      }));\n  }\n\n  getTrainHeadStations(scheduledDepartureDetails) {\n    var trainHeadStations = [];\n    scheduledDepartureDetails.root.schedule.request.trip.forEach((trips) => {\n      var trainHeadStation = (trips.leg === Array) ? trips.leg[0]._trainHeadStation : trips.leg._trainHeadStation;\n      if (trainHeadStations.indexOf(trainHeadStation) === -1) {\n        trainHeadStations.push(trainHeadStation);\n      }\n    })\n    return trainHeadStations;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/ScheduledDepartureDetailsService.ts","import {Http, URLSearchParams} from \"@angular/http\";\nimport {Injectable} from \"@angular/core\";\nimport \"rxjs/Rx\";\nimport {Observable} from 'rxjs/Rx';\n\ndeclare var X2JS:any;\n\n@Injectable()\nexport class EstTimeDepartureService {\n  http:Http;\n\n  constructor(http:Http) {\n    this.http = http;\n  }\n\n  getEstTimeDeparture(origin:string) : Observable<any> {\n    let params:URLSearchParams = new URLSearchParams();\n    params.set('cmd', 'etd');\n    params.set('orig', origin);\n    params.set('key', \"ZMVD-UB67-IYVQ-DT35\")\n    return this.http.get('http://api.bart.gov/api/etd.aspx', {\n      search: params\n    }).map(res => {\n      var x2js = new X2JS();\n      return x2js.xml_str2json(res.text());\n    });\n  }\n\n  getEstimatedDeparturesForHeadStations(estTimeDeparture, trainHeadStations) {\n    var estDepartureDetails = [];\n    if (Array.isArray(estTimeDeparture.root.station.etd)) {\n      estTimeDeparture.root.station.etd.forEach((estTimeDepature) => {\n        if (trainHeadStations.indexOf(estTimeDepature.abbreviation) != -1) {\n          estDepartureDetails.push(estTimeDepature)\n        }\n      })\n    } else {\n      estDepartureDetails.push(estTimeDeparture.root.station.etd);\n    }\n    return estDepartureDetails;\n  }\n\n  compareDepartureTimes(a, b) {\n    var a_departureTime = (Array.isArray(a.estimate)) ? a.estimate[0].minutes : a.estimate.minutes;\n    a_departureTime = isNaN(a_departureTime) ? 0 : a_departureTime;\n    var b_departureTime = (Array.isArray(b.estimate)) ? b.estimate[0].minutes : b.estimate.minutes;\n    b_departureTime = isNaN(b_departureTime) ? 0 : b_departureTime;\n    if (a_departureTime < b_departureTime)\n      return -1;\n    else if (a_departureTime > b_departureTime)\n      return 1;\n    else\n      return 0;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/EstTimeDepartureService.ts","import {Http} from \"@angular/http\";\nimport {Injectable} from \"@angular/core\";\nimport {Observable} from \"rxjs/Rx\";\nimport \"rxjs/Rx\";\n\ndeclare var X2JS:any;\n\n@Injectable()\nexport class StationsLookupService {\n  http:Http;\n\n  constructor(http:Http) {\n    this.http = http;\n  }\n\n  getStations():Observable<any> {\n    return this.http.get('http://api.bart.gov/api/stn.aspx?cmd=stns&key=ZMVD-UB67-IYVQ-DT35')\n      .map(res => {\n        var x2js = new X2JS();\n        return x2js.xml_str2json(res.text());\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/StationsLookupService.ts","import {Http} from \"@angular/http\";\nimport {Injectable} from \"@angular/core\";\nimport {Observable} from \"rxjs/Rx\";\nimport \"rxjs/Rx\";\n\ndeclare var X2JS:any;\n\n@Injectable()\nexport class AdvisoryService {\n  http:Http;\n\n  constructor(http:Http) {\n    this.http = http;\n  }\n\n  advisoryResponse():Observable<any> {\n    return this.http.get('http://api.bart.gov/api/bsa.aspx?cmd=bsa&date=today&key=ZMVD-UB67-IYVQ-DT35')\n      .map(res => {\n        var x2js = new X2JS();\n        return x2js.xml_str2json(res.text());\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/AdvisoryService.ts","import {Component} from \"@angular/core\";\nimport {Observable} from \"rxjs/Rx\";\n\n@Component({\n  selector: 'bart-timer',\n  inputs: ['departureTime'],\n  template: '{{departureTimer}}'\n})\nexport class TimerComponent {\n  public departureTime:number;\n  public departureTimer:string;\n\n  constructor() {\n    let timer = Observable.timer(1000, 1000);\n    timer.subscribe(t=>this.departureTimer = this.secondsToHms(this.departureTime - t));\n  }\n\n  secondsToHms(timeInSeconds) {\n    var h = Math.floor(timeInSeconds / 3600);\n    var m = Math.floor(timeInSeconds % 3600 / 60);\n    var s = Math.floor(timeInSeconds % 3600 % 60);\n    return ((h > 0 ? h + \"h:\" + (m < 10 ? \"0\" : \"\") : \"\") + m + \"m:\" + (s < 10 ? \"0\" : \"\") + s + \"s\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TimerComponent.ts"],"sourceRoot":""}